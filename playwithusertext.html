<!DOCTYPE html>
<html>
  <head>
    <title>Pronto Racing</title>
  </head>
  <body>
    <center>
      <textarea cols="80" id="textArea"></textarea><br><br />
      <button id="play">Play</button>
      <input type="text" name="inputText" id="inputText" hidden><br>
    </center>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script>
    function start(){
      var allText = $('#textArea').val().split(' ');
      var textIndex = 0
      showTheText(allText, textIndex);
      $('#inputText').keypress(function(e) {
        if (e.keyCode == 0 || e.keyCode == 32){ // `0` works in mozilla and `320 in other`
          if(allText[textIndex] == $('#inputText').val()){
            console.log( allText[textIndex] + $('#inputText').val());
            textIndex += 1
            $('#inputText').val('')
            console.log($('#inputText').val())
            
            showTheText(allText, textIndex);

          }else {
            console.log("fail" + allText[textIndex] + $('#inputText').val());
          }
        }
        $('#inputText').val($('#inputText').val().replace(' ', ''))
      });
    }

    function showTheText(allText, textIndex){
      var showText = ""
      for (var k = 0 ; k < allText.length ; k++) {
        if (k == textIndex)
          showText += " \"" + allText[k] + "\""
        else
          showText += " " + allText[k]
      }

      $('#textArea').val(showText)
    }
    

    $('#play').click(function() {
      $('#play').hide();
      $('#inputText').show();
      $('#textArea').attr('readonly', true);
      start();
    })
    </script>
  </body>
</html>
